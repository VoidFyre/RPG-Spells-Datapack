execute as @e[type=item,nbt={Item:{id:"minecraft:soul_torch"}}] at @s if block ~ ~ ~ minecraft:lectern if block ~ ~-1 ~ minecraft:blackstone if block ~ ~-1 ~1 minecraft:blackstone if block ~1 ~-1 ~ minecraft:blackstone if block ~1 ~-1 ~1 minecraft:blackstone if block ~ ~-1 ~-1 minecraft:blackstone if block ~-1 ~-1 ~ minecraft:blackstone if block ~-1 ~-1 ~-1 minecraft:blackstone if block ~-1 ~-1 ~1 minecraft:blackstone if block ~1 ~-1 ~-1 minecraft:blackstone if block ~-1 ~1 ~ minecraft:soul_lantern if block ~1 ~1 ~ minecraft:soul_lantern run function rpg:loops/structuredetection/classaltars/altar_necro/createaltar

execute as @e[type=item,nbt={Item:{id:"minecraft:soul_torch"}}] at @s if block ~ ~ ~ minecraft:lectern if block ~ ~-1 ~ minecraft:blackstone if block ~ ~-1 ~1 minecraft:blackstone if block ~1 ~-1 ~ minecraft:blackstone if block ~1 ~-1 ~1 minecraft:blackstone if block ~ ~-1 ~-1 minecraft:blackstone if block ~-1 ~-1 ~ minecraft:blackstone if block ~-1 ~-1 ~-1 minecraft:blackstone if block ~-1 ~-1 ~1 minecraft:blackstone if block ~1 ~-1 ~-1 minecraft:blackstone if block ~ ~1 ~-1 minecraft:soul_lantern if block ~ ~1 ~1 minecraft:soul_lantern run function rpg:loops/structuredetection/classaltars/altar_necro/createaltar

execute as @e[type=armor_stand,tag=altar_necro] at @s run function rpg:loops/structuredetection/classaltars/altar_necro/detectdestroy

execute as @e[type=armor_stand,tag=altar_necro] at @s run particle soul ~ ~1 ~ 0 0 0 0.01 20